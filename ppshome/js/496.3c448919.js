"use strict";(self["webpackChunkppshome"]=self["webpackChunkppshome"]||[]).push([[496],{3496:function(t,e,r){r.r(e),r.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("pps-card",[e("pps-input",{attrs:{content:t.searchParams.keyword},on:{"update:content":function(e){return t.$set(t.searchParams,"keyword",e)}},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.searchFn.apply(null,arguments):null}}},[e("div",[e("pps-button",{attrs:{type:"warn"},on:{click:t.resetFn}},[t._v("重置")]),e("pps-button",{attrs:{type:"primary"},on:{click:t.searchFn}},[t._v("搜索")])],1)]),e("div",{staticClass:"usertype-list"},t._l(t.user_type,(function(r,s){return e("pps-button",{key:s,attrs:{type:t.active_user==s?"primary":""},on:{click:function(e){return t.userTypeFn(r,s)}}},[t._v(" "+t._s(r.text)+" ")])})),1),e("div",{staticClass:"conditions-list"},[e("el-dropdown",{attrs:{trigger:"click"},on:{command:t.sortFn}},[e("pps-button",{attrs:{type:"confirm"}},[t._v("更多菜单"),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.conditions,(function(r,s){return e("el-dropdown-item",{key:s,attrs:{command:r}},[t._v(" "+t._s(r.text)+" ")])})),1)],1)],1),e("el-statistic",{attrs:{"group-separator":",",precision:0,value:t.searchParams.total,title:"总条数"}}),e("el-table",{staticClass:"table-fixed-header",staticStyle:{width:"100%"},attrs:{data:t.userList,height:"400"}},[e("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("pps-avatar",{attrs:{size:40,src:t.row.upic}})]}}])}),e("el-table-column",{attrs:{prop:"uname",label:"用户名"}}),e("el-table-column",{attrs:{prop:"mid",label:"uid"}}),e("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("span",{domProps:{innerHTML:t._s(t.$options.filters.sexFilter(r.row.gender))}})]}}])}),e("el-table-column",{attrs:{label:"粉丝"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.fansFliter(e.row.fans))+" ")]}}])}),e("el-table-column",{attrs:{label:"详细信息"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("pps-button",{attrs:{type:"confirm"},on:{click:function(e){return t.jumpFn(r.row.mid)}}},[t._v("跳转")])]}}])})],1),e("div",{staticClass:"pageBtn"},[e("pps-button",{attrs:{type:"confirm"},on:{click:t.prePageFn}},[t._v("上一页")]),e("pps-button",[t._v(t._s(this.currentPage))]),e("pps-button",{attrs:{type:"confirm"},on:{click:t.nextPageFn}},[t._v("下一页")]),e("router-link",{attrs:{to:{name:"biliCard"}}},[e("el-link",{staticStyle:{"margin-left":"25px"},attrs:{type:"primary",underline:!1}},[t._v("用uid搜索? ")])],1)],1)],1)},a=[],n=(r(7658),r(586)),i={name:"my-search-list",methods:{jumpFn(t){this.$router.push({name:"biliCard",query:{uid:t}})},async sendAjax(){this.searchParams.page||(this.searchParams.page=1);const{data:t}=await(0,n.xX)(this.searchParams.keyword,this.searchParams.page,this.searchParams.page_size,this.searchParams.order,this.searchParams.order_sort,this.searchParams.user_type);this.searchParams.page_num=t.data.numPages,this.searchParams.total=t.data.numResults,this.userList=t.data.result},searchFn(){if(this.searchParams.page=1,""===this.searchParams.keyword)return this.$message.warning("输入不能为空！");this.sendAjax()},nextPageFn(){if(!this.searchParams.keyword||!this.searchParams.total)return this.$message.warning("无更多内容！");this.searchParams.page++,this.sendAjax()},prePageFn(){if(this.searchParams.page<=1)return this.$message.warning("已经是第一页了！");this.searchParams.page--,this.sendAjax()},resetFn(){this.userList=[],this.searchParams={keyword:"",page:0,page_num:0,page_size:10,total:0,order:"",order_sort:0,user_type:0}},sortFn(t){this.searchParams.order=t.order,this.searchParams.order_sort=t.sort,""!==this.searchParams.keyword&&this.sendAjax()},userTypeFn(t,e){this.searchParams.user_type=t.sort,this.active_user=e,""!==this.searchParams.keyword&&this.sendAjax()},fansFliter(t){return t.toString().length>4?`${(t/1e4).toFixed(1)}万`:t}},data(){return{searchParams:{keyword:"",page:0,page_num:0,page_size:10,total:0,order:"",order_sort:0,user_type:0},userList:[],conditions:[{text:"默认排序",order:"",sort:0},{text:"等级由高到低",order:"level",sort:0},{text:"等级由低到高",order:"level",sort:1},{text:"粉丝由高到低",order:"fans",sort:0},{text:"粉丝由低到高",order:"fans",sort:1}],user_type:[{text:"全部用户",sort:0},{text:"up主用户",sort:1},{text:"普通用户",sort:2},{text:"认证用户",sort:3}],active_user:0,numResults:0}},computed:{currentPage(){return`${this.searchParams.page} / ${this.searchParams.page_num}`}},filters:{sexFilter(t){const e='<svg viewBox="0 0 1024 1024" version="1.1" width="25" height="25"><path d="M512 105.3c-220.7 0-399.7 179-399.7 399.7s179 399.7 399.7 399.7 399.7-179 399.7-399.7-179-399.7-399.7-399.7z m241.6 270.8h-0.5v175.4h-99.8v-90.1l-46.6 49.7c13.7 27.1 21.4 57.6 21.4 90 0 110.4-89.5 200-199.9 200s-199.9-89.5-199.9-200 89.5-200 199.9-200c36.1 0 70.1 9.6 99.3 26.4l48.3-51.4h-97.5v-99.7h275.3v99.7z" fill="#0091FF"></path>\n            <path d="M428 501.5c-55.1 0-99.7 44.8-99.7 100s44.6 100 99.7 100 99.7-44.8 99.7-100-44.7-100-99.7-100z" fill="#0091FF"></path>\n            </svg>',r='<svg viewBox="0 0 1024 1024" version="1.1" width="25" height="25"><path d="M512 105.5c-220.6 0-399.5 178.9-399.5 399.5S291.4 904.5 512 904.5 911.5 725.6 911.5 505 732.6 105.5 512 105.5z m200 621.9H561.5v75.1h-99.1v-75.1H312V627.3h150.4v-6.2c-33.6-8.6-65.5-25.9-91.8-52.2-78-78-78-204.5 0-282.5s204.5-78 282.5 0 78 204.5 0 282.5c-26.3 26.3-58.1 43.7-91.7 52.2v6.2h150.4v100.1h0.2z" fill="#FF4D94"></path>\n          <path d="M582.4 356.1c-39.1-39.1-102.5-39.1-141.6 0-39.1 39.1-39.1 102.4 0 141.5 39.1 39.1 102.5 39.1 141.6 0 39.1-39 39.1-102.4 0-141.5z" fill="#FF4D94"></path>\n          </svg>',s='<svg viewBox="0 0 1024 1024" version="1.1" width="25" height="25"><path d="M554.666667 301.482667a320.042667 320.042667 0 1 1-85.333334 0V42.666667h85.333334v258.816zM512 853.333333a234.666667 234.666667 0 1 0 0-469.333333 234.666667 234.666667 0 0 0 0 469.333333z"></path></svg>';switch(t){case 1:return e;case 2:return r;default:return s}}}},o=i,u=r(1001),c=(0,u.Z)(o,s,a,!1,null,"0468a6e9",null),p=c.exports},586:function(t,e,r){r.d(e,{RT:function(){return o},xX:function(){return p},C7:function(){return c},s:function(){return u}});var s=r(7467),a=r.n(s);const n=a().create({baseURL:"https://pps-api.vercel.app",timeout:3e3});n.interceptors.response.use((function(t){return t}),(t=>{const e="http://192.168.10.3:5000",r=t.config.url,s=t.config.params,a=new Promise((function(t){t()}));return a.then((function(){return n({baseURL:e+r,params:s})}))}));var i=n;const o=t=>i({url:"/api/bili",params:{keyword:t}}),u=t=>i({url:"/api/qq",params:{keyword:t}}),c=t=>i({url:"/api/github",params:{keyword:t}}),p=(t,e,r,s,a,n)=>i({url:"/api/biliList",params:{keyword:t,page:e,page_size:r,order:s,order_sort:a,user_type:n}})}}]);
//# sourceMappingURL=496.3c448919.js.map